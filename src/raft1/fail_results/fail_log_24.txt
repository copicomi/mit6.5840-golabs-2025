2025/09/12 16:49:37 [0] S0 restart!!
2025/09/12 16:49:37 [0] S1 restart!!
2025/09/12 16:49:37 [0] S2 restart!!
Test (3D): install snapshots (disconnect) (unreliable network)...
2025/09/12 16:49:37 [1] S0 start election...
2025/09/12 16:49:37 [1] S1 start election...
2025/09/12 16:49:37 [1] S0 Got Vote RPC from 1, term 1
2025/09/12 16:49:37 [1] S0 Grand vote to 1
2025/09/12 16:49:37 [1] S1 Got Vote reply from 0, term 1
2025/09/12 16:49:37 [1] S1 Change to leader
2025/09/12 16:49:37 [1] S1 Got Vote RPC from 0, term 1
2025/09/12 16:49:37 [1] S1 Reject vote RPC
2025/09/12 16:49:37 [1] S0 Got Vote reply from 1, term 1
2025/09/12 16:49:37 [0] S2 Got Vote RPC from 0, term 1
2025/09/12 16:49:37 [1] S2 Grand vote to 0
2025/09/12 16:49:37 [1] S0 Got Vote reply from 2, term 1
2025/09/12 16:49:37 [1] S1 start one(5868728602262810535)
2025/09/12 16:49:37 [1] S1 Append 1 logs, lastLogIndex = 1
2025/09/12 16:49:37 [1] S0 Reject append RPC, log is not match
2025/09/12 16:49:37 [1] S2 Reject append RPC, log is not match
2025/09/12 16:49:37 [1] S1 send APPEND ENTRIES RPC to server 2, prev 0, loglen 1, term 1
2025/09/12 16:49:37 [1] S2 Got append RPC with pervLogIndex 0 loglen 1 term 1
2025/09/12 16:49:37 [1] S2 , apply 0, commit 0, log 0, snapshot 0, len 1
2025/09/12 16:49:37 [1] S2 Append 1 logs, lastLogIndex = 1
2025/09/12 16:49:38 [1] S1 Update commit index to 1
2025/09/12 16:49:38 [1] S0 Reject append RPC, log is not match
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 0, prev 0, loglen 1, term 1
2025/09/12 16:49:38 [1] S2 Apply 1 logs to 1
2025/09/12 16:49:38 [1] S1 Apply 1 logs to 1
2025/09/12 16:49:38 [1] S0 Got append RPC with pervLogIndex 0 loglen 1 term 1
2025/09/12 16:49:38 [1] S0 , apply 0, commit 0, log 0, snapshot 0, len 1
2025/09/12 16:49:38 [1] S0 Append 1 logs, lastLogIndex = 1
2025/09/12 16:49:38 [1] S0 Apply 1 logs to 1
2025/09/12 16:49:38 [1] S1 start one(4018823619064072763)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 2
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 2, prev 1, loglen 1, term 1
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 0, prev 1, loglen 1, term 1
2025/09/12 16:49:38 [1] S0 Got append RPC with pervLogIndex 1 loglen 1 term 1
2025/09/12 16:49:38 [1] S0 , apply 1, commit 1, log 1, snapshot 0, len 2
2025/09/12 16:49:38 [1] S0 Append 1 logs, lastLogIndex = 2
2025/09/12 16:49:38 [1] S1 Update commit index to 2
2025/09/12 16:49:38 [1] S0 Apply 1 logs to 2
2025/09/12 16:49:38 [1] S1 Apply 1 logs to 2
2025/09/12 16:49:38 [1] S1 start one(6165405836349273884)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 3
2025/09/12 16:49:38 [1] S1 start one(3446399173695044906)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 4
2025/09/12 16:49:38 [1] S1 start one(8187878709044160399)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 5
2025/09/12 16:49:38 [1] S1 start one(1596654349861240077)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 6
2025/09/12 16:49:38 [1] S1 start one(6518686565016223733)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 7
2025/09/12 16:49:38 [1] S1 start one(6156064749447172125)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 8
2025/09/12 16:49:38 [1] S1 start one(2153691513258411660)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 9
2025/09/12 16:49:38 [1] S1 start one(6222200925122072602)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 10
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 2, prev 1, loglen 9, term 1
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 0, prev 2, loglen 8, term 1
2025/09/12 16:49:38 [1] S0 Got append RPC with pervLogIndex 2 loglen 8 term 1
2025/09/12 16:49:38 [1] S0 , apply 2, commit 2, log 2, snapshot 0, len 3
2025/09/12 16:49:38 [1] S0 Append 8 logs, lastLogIndex = 10
2025/09/12 16:49:38 [1] S1 Update commit index to 10
2025/09/12 16:49:38 [1] S1 Apply 8 logs to 10
2025/09/12 16:49:38 [1] S1 SNAPSHOT at 9
2025/09/12 16:49:38 [1] S1 snapshot, apply 10, commit 10, log 10, snapshot 0, len 11
2025/09/12 16:49:38 [1] S1 snapshot, apply 10, commit 10, log 10, snapshot 9, len 2
2025/09/12 16:49:38 [1] S0 Apply 8 logs to 10
2025/09/12 16:49:38 [1] S0 SNAPSHOT at 9
2025/09/12 16:49:38 [1] S0 snapshot, apply 10, commit 10, log 10, snapshot 0, len 11
2025/09/12 16:49:38 [1] S0 snapshot, apply 10, commit 10, log 10, snapshot 9, len 2
2025/09/12 16:49:38 [1] S1 start one(611053106445638848)
2025/09/12 16:49:38 [1] S1 Append 1 logs, lastLogIndex = 11
2025/09/12 16:49:38 [1] S1 send InstallSnapshot to 2 at 9
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 0, prev 10, loglen 1, term 1
2025/09/12 16:49:38 [1] S0 Got append RPC with pervLogIndex 10 loglen 1 term 1
2025/09/12 16:49:38 [1] S0 , apply 10, commit 10, log 10, snapshot 9, len 2
2025/09/12 16:49:38 [1] S0 Append 1 logs, lastLogIndex = 11
2025/09/12 16:49:38 [1] S2 InstallSnapshot start, apply 1, commit 1, log 1, snapshot 0, len 2
2025/09/12 16:49:38 [1] S2 InstallSnapshot end, apply 9, commit 9, log 9, snapshot 9, len 1
2025/09/12 16:49:38 [1] S1 Update commit index to 11
2025/09/12 16:49:38 [1] S0 Apply 1 logs to 11
2025/09/12 16:49:38 [1] S1 Apply 1 logs to 11
2025/09/12 16:49:38 [1] S2 Reject append RPC, log is not match
2025/09/12 16:49:38 [1] S2 Reject append RPC, log is not match
2025/09/12 16:49:38 [1] S1 send APPEND ENTRIES RPC to server 2, prev 9, loglen 2, term 1
2025/09/12 16:49:39 [1] S2 Reject append RPC, log is not match
2025/09/12 16:49:39 [1] S2 Reject append RPC, log is not match
2025/09/12 16:49:39 [1] S1 send APPEND ENTRIES RPC to server 2, prev 9, loglen 2, term 1
2025/09/12 16:49:39 [1] S2 Got append RPC with pervLogIndex 9 loglen 2 term 1
2025/09/12 16:49:39 [1] S2 , apply 9, commit 9, log 9, snapshot 9, len 1
2025/09/12 16:49:39 [1] S2 Append 2 logs, lastLogIndex = 11
2025/09/12 16:49:39 [1] S2 Apply 2 logs to 11
2025/09/12 16:49:40 [2] S0 start election...
2025/09/12 16:49:40 [2] S2 start election...
2025/09/12 16:49:40 [2] S0 Got Vote RPC from 2, term 2
2025/09/12 16:49:40 [2] S0 Grand vote to 2
2025/09/12 16:49:40 [2] S2 Got Vote reply from 0, term 2
2025/09/12 16:49:40 [2] S2 Change to leader
2025/09/12 16:49:40 [2] S2 start one(5760140346316251763)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 12
2025/09/12 16:49:40 [2] S0 Reject append RPC, log is not match
2025/09/12 16:49:40 [2] S0 Reject append RPC, log is not match
2025/09/12 16:49:40 [2] S0 Reject append RPC, log is not match
2025/09/12 16:49:40 [2] S2 send APPEND ENTRIES RPC to server 0, prev 9, loglen 3, term 2
2025/09/12 16:49:40 [2] S0 Got append RPC with pervLogIndex 9 loglen 3 term 2
2025/09/12 16:49:40 [2] S0 , apply 11, commit 11, log 11, snapshot 9, len 3
2025/09/12 16:49:40 [2] S0 Append 3 logs, lastLogIndex = 12
2025/09/12 16:49:40 [2] S2 Update commit index to 12
2025/09/12 16:49:40 [2] S2 Apply 1 logs to 12
2025/09/12 16:49:40 [2] S0 Apply 1 logs to 12
2025/09/12 16:49:40 [2] S2 start one(4739670853471278911)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 13
2025/09/12 16:49:40 [2] S2 start one(445394412935547446)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 14
2025/09/12 16:49:40 [2] S2 start one(409677064275809598)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 15
2025/09/12 16:49:40 [2] S2 start one(4155611131198127468)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 16
2025/09/12 16:49:40 [2] S2 start one(9218050387921561414)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 17
2025/09/12 16:49:40 [2] S2 start one(3798087868337241424)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 18
2025/09/12 16:49:40 [2] S2 start one(8436698498697933656)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 19
2025/09/12 16:49:40 [2] S2 start one(5435166259052024598)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 20
2025/09/12 16:49:40 [2] S2 start one(2506504359134727953)
2025/09/12 16:49:40 [2] S2 Append 1 logs, lastLogIndex = 21
2025/09/12 16:49:40 [2] S2 send APPEND ENTRIES RPC to server 0, prev 12, loglen 9, term 2
2025/09/12 16:49:40 [2] S2 send APPEND ENTRIES RPC to server 1, prev 11, loglen 10, term 2
2025/09/12 16:49:40 [2] S0 Got append RPC with pervLogIndex 12 loglen 9 term 2
2025/09/12 16:49:40 [2] S0 , apply 12, commit 12, log 12, snapshot 9, len 4
2025/09/12 16:49:40 [2] S0 Append 9 logs, lastLogIndex = 21
2025/09/12 16:49:40 [2] S2 Update commit index to 21
2025/09/12 16:49:40 [2] S2 Apply 9 logs to 21
2025/09/12 16:49:40 [2] S2 SNAPSHOT at 19
2025/09/12 16:49:40 [2] S2 snapshot, apply 20, commit 21, log 21, snapshot 9, len 13
2025/09/12 16:49:40 [2] S2 snapshot, apply 20, commit 21, log 21, snapshot 19, len 3
2025/09/12 16:49:40 [2] S0 Apply 9 logs to 21
2025/09/12 16:49:40 [2] S0 SNAPSHOT at 19
2025/09/12 16:49:40 [2] S0 snapshot, apply 20, commit 21, log 21, snapshot 9, len 13
2025/09/12 16:49:40 [2] S0 snapshot, apply 20, commit 21, log 21, snapshot 19, len 3
2025/09/12 16:49:40 [1] S1 start one(5751190604650566876)
2025/09/12 16:49:40 [1] S1 Append 1 logs, lastLogIndex = 12
2025/09/12 16:49:40 [1] S1 send APPEND ENTRIES RPC to server 2, prev 11, loglen 1, term 1
2025/09/12 16:49:40 [1] S1 send APPEND ENTRIES RPC to server 0, prev 11, loglen 1, term 1
2025/09/12 16:49:40 [2] S0 Reject append RPC, term 1, current 2
2025/09/12 16:49:40 [2] S2 Reject append RPC, term 1, current 2
2025/09/12 16:49:40 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:40 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:41 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:41 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 Reject handle append RPC without Backforwards
2025/09/12 16:49:42 [2] S2 start one(5751190604650566876)
2025/09/12 16:49:42 [2] S2 Append 1 logs, lastLogIndex = 22
2025/09/12 16:49:42 [2] S2 send APPEND ENTRIES RPC to server 0, prev 21, loglen 1, term 2
2025/09/12 16:49:42 [2] S2 send InstallSnapshot to 1 at 19
2025/09/12 16:49:42 [2] S0 Got append RPC with pervLogIndex 21 loglen 1 term 2
2025/09/12 16:49:42 [2] S0 , apply 21, commit 21, log 21, snapshot 19, len 3
2025/09/12 16:49:42 [2] S0 Append 1 logs, lastLogIndex = 22
2025/09/12 16:49:42 [2] S1 InstallSnapshot start, apply 11, commit 11, log 12, snapshot 9, len 4
2025/09/12 16:49:42 [2] S1 InstallSnapshot end, apply 19, commit 19, log 19, snapshot 19, len 1
2025/09/12 16:49:42 [2] S2 Update commit index to 22
2025/09/12 16:49:42 [2] S2 Apply 1 logs to 22
2025/09/12 16:49:42 [2] S0 Apply 1 logs to 22
2025/09/12 16:49:42 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:42 [2] S2 send APPEND ENTRIES RPC to server 1, prev 19, loglen 3, term 2
2025/09/12 16:49:43 [2] S1 Got append RPC with pervLogIndex 19 loglen 3 term 2
2025/09/12 16:49:43 [2] S1 , apply 19, commit 19, log 19, snapshot 19, len 1
2025/09/12 16:49:43 [2] S1 Append 3 logs, lastLogIndex = 22
2025/09/12 16:49:43 [2] S1 Apply 3 logs to 22
2025/09/12 16:49:43 [2] S2 start one(1106324687153210996)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 23
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 0, prev 22, loglen 1, term 2
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 1, prev 22, loglen 1, term 2
2025/09/12 16:49:43 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:43 [2] S1 Reject append RPC, log is not match
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 1, prev 19, loglen 4, term 2
2025/09/12 16:49:43 [2] S1 Got append RPC with pervLogIndex 19 loglen 4 term 2
2025/09/12 16:49:43 [2] S1 , apply 22, commit 22, log 22, snapshot 19, len 4
2025/09/12 16:49:43 [2] S1 Append 4 logs, lastLogIndex = 23
2025/09/12 16:49:43 [2] S2 Update commit index to 23
2025/09/12 16:49:43 [2] S2 Apply 1 logs to 23
2025/09/12 16:49:43 [2] S1 Apply 1 logs to 23
2025/09/12 16:49:43 [2] S2 start one(4744427233319159723)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 24
2025/09/12 16:49:43 [2] S2 start one(395397210451305242)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 25
2025/09/12 16:49:43 [2] S2 start one(2801182546899670499)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 26
2025/09/12 16:49:43 [2] S2 start one(3211964181571856467)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 27
2025/09/12 16:49:43 [2] S2 start one(150975399813155825)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 28
2025/09/12 16:49:43 [2] S2 start one(7430228587186843142)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 29
2025/09/12 16:49:43 [2] S2 start one(4510745713655887835)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 30
2025/09/12 16:49:43 [2] S2 start one(7798122312502806315)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 31
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 0, prev 22, loglen 9, term 2
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 1, prev 23, loglen 8, term 2
2025/09/12 16:49:43 [2] S1 Got append RPC with pervLogIndex 23 loglen 8 term 2
2025/09/12 16:49:43 [2] S1 , apply 23, commit 23, log 23, snapshot 19, len 5
2025/09/12 16:49:43 [2] S1 Append 8 logs, lastLogIndex = 31
2025/09/12 16:49:43 [2] S2 Update commit index to 31
2025/09/12 16:49:43 [2] S2 Apply 8 logs to 31
2025/09/12 16:49:43 [2] S2 SNAPSHOT at 29
2025/09/12 16:49:43 [2] S2 snapshot, apply 29, commit 31, log 31, snapshot 19, len 13
2025/09/12 16:49:43 [2] S2 snapshot, apply 29, commit 31, log 31, snapshot 29, len 3
2025/09/12 16:49:43 [2] S1 Apply 8 logs to 31
2025/09/12 16:49:43 [2] S1 SNAPSHOT at 29
2025/09/12 16:49:43 [2] S1 snapshot, apply 29, commit 31, log 31, snapshot 19, len 13
2025/09/12 16:49:43 [2] S1 snapshot, apply 29, commit 31, log 31, snapshot 29, len 3
2025/09/12 16:49:43 [2] S2 start one(6200148443430320586)
2025/09/12 16:49:43 [2] S2 Append 1 logs, lastLogIndex = 32
2025/09/12 16:49:43 [2] S2 send InstallSnapshot to 0 at 29
2025/09/12 16:49:43 [2] S2 send APPEND ENTRIES RPC to server 1, prev 31, loglen 1, term 2
2025/09/12 16:49:43 [2] S0 InstallSnapshot start, apply 22, commit 22, log 22, snapshot 19, len 4
2025/09/12 16:49:43 [2] S0 InstallSnapshot end, apply 29, commit 29, log 29, snapshot 29, len 1
2025/09/12 16:49:43 [2] S1 Got append RPC with pervLogIndex 31 loglen 1 term 2
2025/09/12 16:49:43 [2] S1 , apply 31, commit 31, log 31, snapshot 29, len 3
2025/09/12 16:49:43 [2] S1 Append 1 logs, lastLogIndex = 32
2025/09/12 16:49:43 [2] S2 Update commit index to 32
2025/09/12 16:49:43 [2] S2 Apply 1 logs to 32
2025/09/12 16:49:43 [2] S0 Reject append RPC, log is not match
2025/09/12 16:49:43 [2] S1 Apply 1 logs to 32
2025/09/12 16:49:44 [2] S0 Reject append RPC, log is not match
2025/09/12 16:49:44 [2] S2 send APPEND ENTRIES RPC to server 0, prev 29, loglen 3, term 2
2025/09/12 16:49:44 [2] S0 Got append RPC with pervLogIndex 29 loglen 3 term 2
2025/09/12 16:49:44 [2] S0 , apply 29, commit 29, log 29, snapshot 29, len 1
2025/09/12 16:49:44 [2] S0 Append 3 logs, lastLogIndex = 32
2025/09/12 16:49:44 [2] S0 Apply 3 logs to 32
info: wrote visualization to /tmp/porcupine-656205489.html
exit status 1
FAIL	6.5840/raft1	7.171s
