2025/09/12 14:54:12 [0] S0 restart!!
2025/09/12 14:54:12 [0] S1 restart!!
2025/09/12 14:54:12 [0] S2 restart!!
Test (3D): install snapshots (disconnect) (reliable network)...
2025/09/12 14:54:13 [2] S2 Change to leader
2025/09/12 14:54:13 [2] S2 Append 1 logs, lastLogIndex = 1
2025/09/12 14:54:15 [2] S2 Append 1 logs, lastLogIndex = 2
2025/09/12 14:54:15 [2] S1 Append 2 logs, lastLogIndex = 2
2025/09/12 14:54:15 [2] S0 Append 2 logs, lastLogIndex = 2
2025/09/12 14:54:16 [2] S2 Update commit index to 2
2025/09/12 14:54:16 [2] S2 Apply 2 logs to 2
2025/09/12 14:54:16 [2] S0 Apply 2 logs to 2
2025/09/12 14:54:16 [2] S1 Apply 2 logs to 2
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 3
2025/09/12 14:54:16 [2] S1 Append 1 logs, lastLogIndex = 3
2025/09/12 14:54:16 [2] S2 Update commit index to 3
2025/09/12 14:54:16 [2] S1 Apply 1 logs to 3
2025/09/12 14:54:16 [2] S2 Apply 1 logs to 3
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 4
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 5
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 6
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 7
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 8
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 9
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 10
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 11
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 12
2025/09/12 14:54:16 [2] S1 Append 9 logs, lastLogIndex = 12
2025/09/12 14:54:16 [2] S2 Update commit index to 12
2025/09/12 14:54:16 [2] S1 Apply 9 logs to 12
2025/09/12 14:54:16 [2] S1 SNAPSHOT at 9
2025/09/12 14:54:16 [2] S1 snapshot, apply 9, commit 12, log 12, snapshot 0, len 13
2025/09/12 14:54:16 [2] S1 snapshot, apply 9, commit 12, log 12, snapshot 9, len 4
2025/09/12 14:54:16 [2] S2 Apply 9 logs to 12
2025/09/12 14:54:16 [2] S2 SNAPSHOT at 9
2025/09/12 14:54:16 [2] S2 snapshot, apply 9, commit 12, log 12, snapshot 0, len 13
2025/09/12 14:54:16 [2] S2 snapshot, apply 10, commit 12, log 12, snapshot 9, len 4
2025/09/12 14:54:16 [2] S2 Append 1 logs, lastLogIndex = 13
2025/09/12 14:54:16 [2] S2 send InstallSnapshot to 0 at 9
2025/09/12 14:54:16 [2] S0 InstallSnapshot start, apply 2, commit 2, log 2, snapshot 0, len 3
2025/09/12 14:54:16 [2] S0 InstallSnapshot end, apply 9, commit 9, log 9, snapshot 9, len 1
2025/09/12 14:54:16 [2] S1 Append 1 logs, lastLogIndex = 13
2025/09/12 14:54:16 [2] S2 Update commit index to 13
2025/09/12 14:54:16 [2] S1 Apply 1 logs to 13
2025/09/12 14:54:16 [2] S2 Apply 1 logs to 13
2025/09/12 14:54:18 [2] S2 Append 1 logs, lastLogIndex = 14
2025/09/12 14:54:18 [2] S0 Append 5 logs, lastLogIndex = 14
2025/09/12 14:54:18 [2] S1 Append 1 logs, lastLogIndex = 14
2025/09/12 14:54:18 [2] S0 Apply 4 logs to 13
2025/09/12 14:54:18 [2] S2 Update commit index to 14
2025/09/12 14:54:18 [2] S0 Apply 1 logs to 14
2025/09/12 14:54:18 [2] S2 Apply 1 logs to 14
2025/09/12 14:54:18 [2] S1 Apply 1 logs to 14
2025/09/12 14:54:20 [4] S0 Change to leader
2025/09/12 14:54:20 [4] S0 Append 1 logs, lastLogIndex = 15
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 16
2025/09/12 14:54:22 [4] S1 Append 2 logs, lastLogIndex = 16
2025/09/12 14:54:22 [4] S0 Update commit index to 16
2025/09/12 14:54:22 [4] S1 Apply 2 logs to 16
2025/09/12 14:54:22 [4] S0 Apply 2 logs to 16
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 17
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 18
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 19
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 20
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 21
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 22
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 23
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 24
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 25
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 26
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 27
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 28
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 29
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 30
2025/09/12 14:54:22 [4] S0 Append 1 logs, lastLogIndex = 31
2025/09/12 14:54:22 [4] S1 Append 15 logs, lastLogIndex = 31
2025/09/12 14:54:22 [4] S0 Update commit index to 31
2025/09/12 14:54:22 [4] S0 Apply 15 logs to 31
2025/09/12 14:54:22 [4] S0 SNAPSHOT at 19
2025/09/12 14:54:22 [4] S0 snapshot, apply 20, commit 31, log 31, snapshot 9, len 23
2025/09/12 14:54:22 [4] S0 snapshot, apply 20, commit 31, log 31, snapshot 19, len 13
2025/09/12 14:54:22 [4] S0 SNAPSHOT at 29
2025/09/12 14:54:22 [4] S0 snapshot, apply 30, commit 31, log 31, snapshot 19, len 13
2025/09/12 14:54:22 [4] S1 Apply 15 logs to 31
2025/09/12 14:54:22 [4] S0 snapshot, apply 30, commit 31, log 31, snapshot 29, len 3
2025/09/12 14:54:22 [4] S1 SNAPSHOT at 19
2025/09/12 14:54:22 [4] S1 snapshot, apply 20, commit 31, log 31, snapshot 9, len 23
2025/09/12 14:54:22 [4] S1 snapshot, apply 20, commit 31, log 31, snapshot 19, len 13
2025/09/12 14:54:22 [4] S1 SNAPSHOT at 29
2025/09/12 14:54:22 [4] S1 snapshot, apply 30, commit 31, log 31, snapshot 19, len 13
2025/09/12 14:54:22 [4] S1 snapshot, apply 30, commit 31, log 31, snapshot 29, len 3
2025/09/12 14:54:22 [2] S2 Append 1 logs, lastLogIndex = 15
2025/09/12 14:54:24 [4] S0 Append 1 logs, lastLogIndex = 32
2025/09/12 14:54:24 [4] S0 send InstallSnapshot to 2 at 29
2025/09/12 14:54:24 [4] S2 InstallSnapshot start, apply 14, commit 14, log 15, snapshot 9, len 7
2025/09/12 14:54:24 [4] S2 InstallSnapshot end, apply 29, commit 29, log 29, snapshot 29, len 1
2025/09/12 14:54:24 [4] S1 Append 1 logs, lastLogIndex = 32
2025/09/12 14:54:24 [4] S0 Update commit index to 32
2025/09/12 14:54:24 [4] S0 Apply 1 logs to 32
2025/09/12 14:54:24 [4] S1 Apply 1 logs to 32
2025/09/12 14:54:26 [4] S0 Append 1 logs, lastLogIndex = 33
2025/09/12 14:54:26 [4] S2 Append 4 logs, lastLogIndex = 33
2025/09/12 14:54:26 [4] S1 Append 1 logs, lastLogIndex = 33
2025/09/12 14:54:26 [4] S2 Apply 3 logs to 32
2025/09/12 14:54:26 [4] S0 Update commit index to 33
2025/09/12 14:54:26 [4] S0 Apply 1 logs to 33
2025/09/12 14:54:26 [4] S1 Apply 1 logs to 33
2025/09/12 14:54:26 [4] S2 Apply 1 logs to 33
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 34
2025/09/12 14:54:27 [4] S2 Append 1 logs, lastLogIndex = 34
2025/09/12 14:54:27 [4] S0 Update commit index to 34
2025/09/12 14:54:27 [4] S2 Apply 1 logs to 34
2025/09/12 14:54:27 [4] S0 Apply 1 logs to 34
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 35
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 36
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 37
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 38
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 39
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 40
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 41
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 42
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 43
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 44
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 45
2025/09/12 14:54:27 [4] S2 Append 11 logs, lastLogIndex = 45
2025/09/12 14:54:27 [4] S0 Update commit index to 45
2025/09/12 14:54:27 [4] S0 Apply 11 logs to 45
2025/09/12 14:54:27 [4] S2 Apply 11 logs to 45
2025/09/12 14:54:27 [4] S0 SNAPSHOT at 39
2025/09/12 14:54:27 [4] S0 snapshot, apply 40, commit 45, log 45, snapshot 29, len 17
2025/09/12 14:54:27 [4] S0 snapshot, apply 40, commit 45, log 45, snapshot 39, len 7
2025/09/12 14:54:27 [4] S2 SNAPSHOT at 39
2025/09/12 14:54:27 [4] S2 snapshot, apply 40, commit 45, log 45, snapshot 29, len 17
2025/09/12 14:54:27 [4] S2 snapshot, apply 40, commit 45, log 45, snapshot 39, len 7
2025/09/12 14:54:27 [4] S0 Append 1 logs, lastLogIndex = 46
2025/09/12 14:54:27 [4] S0 send InstallSnapshot to 1 at 39
2025/09/12 14:54:27 [4] S2 Append 1 logs, lastLogIndex = 46
2025/09/12 14:54:27 [4] S1 InstallSnapshot start, apply 33, commit 33, log 33, snapshot 29, len 5
2025/09/12 14:54:27 [4] S1 InstallSnapshot end, apply 39, commit 39, log 43, snapshot 39, len 5
2025/09/12 14:54:27 [4] S0 Update commit index to 46
2025/09/12 14:54:27 [4] S2 Apply 1 logs to 46
2025/09/12 14:54:27 [4] S0 Apply 1 logs to 46
2025/09/12 14:54:29 [4] S0 Append 1 logs, lastLogIndex = 47
2025/09/12 14:54:29 [4] S2 Append 1 logs, lastLogIndex = 47
2025/09/12 14:54:29 [4] S1 Append 8 logs, lastLogIndex = 47
2025/09/12 14:54:29 [4] S1 Apply 7 logs to 46
info: wrote visualization to /tmp/porcupine-1643188246.html
2025/09/12 14:54:29 apply error: commit index=40 server=1 5408582444688331773 != server=2 3105354920419466564
exit status 1
FAIL	6.5840/raft1	19.255s
